<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 xmlns:mx="library://ns.adobe.com/flex/mx" 
		 xmlns:Componentes="vista.AsignarSprintGV.Componentes.*"
		 xmlns:consultas="skins.skin.comun.consultas.*"
		 xmlns:pqNet="skins.botones.pqNet.*"
		 xmlns:otros="skins.otros.*"
		 xmlns:valoracion="skins.valoracion.*"
		 width="100%" height="100%"
		 resize="calc(event)" 
		 creationComplete="init(event)" xmlns:componentes="vista.juntaDeCierre.componentes.*"
		 >
	<fx:Script>
		<![CDATA[
			import flash.filters.BitmapFilterQuality;
			import flash.utils.setTimeout;
			
			import mx.collections.ArrayCollection;
			import mx.com.proquifa.proquifanet.rsl.vista.eventos.comun.EventoComun;
			import mx.com.proquifa.proquifanet.rsl.vista.modelo.comun.ObtenerVisitas;
			import mx.com.proquifa.proquifanet.rsl.vista.modelo.comun.admon.objetos.Funcion;
			import mx.com.proquifa.proquifanet.rsl.vista.modelo.ventas.visita.HallazgosAcciones;
			import mx.com.proquifa.proquifanet.rsl.vista.modelo.ventas.visita.ReportarVisita;
			import mx.com.proquifa.proquifanet.rsl.vista.modelo.ventas.visita.Sprint;
			import mx.com.proquifa.proquifanet.rsl.vista.modelo.ventas.visita.VisitaCliente;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.DatosGlobales;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.Query;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.Util;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.UtilsFecha;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.UtilsFormatosNumericos;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.UtilsGrid;
			import mx.com.proquifa.proquifanet.rsl.vista.utils.alertaSingleton;
			import mx.com.proquifa.proquifanet.rsl.vista.vistas.catalogos.clientes.itemRenderer.vistaPrincipal.CatClientes_IR_Item_imagen;
			import mx.events.FlexEvent;
			import mx.events.ResizeEvent;
			import mx.managers.PopUpManager;
			import mx.utils.ObjectUtil;
			
			import spark.events.IndexChangeEvent;
			
			import org.osmf.events.TimeEvent;
			
			import skins.catalogos.catalogoIconosBotones;
			import skins.catalogos.catalogoIconosEtiquetas;
			
			import vista.controlarPendientes.ItemRender.ListaPendientesIR;
			import vista.evento.EventoCierreSprintGV;
			import vista.evento.EventoControlarAccionesPendientes;
			import vista.juntaDeCierre.IR.IR_ListaHallazgos;
			import vista.juntaDeCierre.componentes.PopUpAgregarObservacionesCierre;
			import vista.juntaDeCierre.componentes.PopUpDetallesVisistaCierreSprint;
			import vista.modelo.AccionesPendientes;
			import vista.popUp.PopUpDetalleVisita;
			import vista.popUp.listaDocumentosVisita;
			
			[Bindable]private var sizeFontLittle:Number;
			[Bindable]private var sizeFontProvee:Number;
			[Bindable]private var sizeFontBoton:Number;
			[Bindable] public var widthLogo:Number;
			[Bindable] public var heightLogo:Number;
			[Bindable] public var visitas:Number;
			[Bindable] public var noTotalVisitas:Number = 0;
			[Bindable] public var calificacionPromedioEV:Number;
			[Bindable] public var sprint:Sprint;
			[Bindable] private var prodCotizados:int;
			public var fechaSprint:String;
			public var _sql:Query;
			public var currentEV:VisitaCliente;
			public var observacionesEV:String;
			public var calificacionEV:Number;
			public var uniAc:ArrayCollection;
			
			[Bindable]public var cargadasSolicitudes:int; [Bindable]public var cargadasCRM:int;
			
			[Bindable]private var colorContadorSolicitudes:uint = 0xde0017;
			[Bindable]private var colorContadorCRM:uint = 0xde0017;
			[Bindable]private var colorContadorTodos:uint = 0xde0017;
			[Bindable]private var colorPlanificar:uint;
			
			[Bindable]public var indiceSeleccionado:int = 0;
			private var universo:ArrayCollection = new ArrayCollection;
			
			
			protected function calc(event:ResizeEvent):void
			{
				sizeFontLittle = (12/2005) * (unscaledWidth>2005 ? 2005 : unscaledWidth);
				sizeFontLittle = sizeFontLittle > 12 ? 12:sizeFontLittle;
				sizeFontLittle = sizeFontLittle < 7 ? 7:sizeFontLittle;
				
				sizeFontProvee = (30/2005) * (unscaledWidth>2005 ? 2005 : unscaledWidth);
				sizeFontProvee = sizeFontProvee > 30 ? 30:sizeFontProvee;
				sizeFontProvee = sizeFontProvee < 15 ? 15:sizeFontProvee;
				
				sizeFontBoton = (22/2005) * (unscaledWidth>2005 ? 2005 : unscaledWidth);
				sizeFontBoton = sizeFontBoton > 22 ? 22:sizeFontBoton;
				sizeFontBoton = sizeFontBoton < 15 ? 15:sizeFontBoton;
				
				widthLogo = (15 / 2005) * (unscaledWidth>2005 ? 2005 : unscaledWidth);
				widthLogo = widthLogo > 15 ? 15:widthLogo;
				widthLogo = widthLogo < 10 ? 10:widthLogo;
				
				heightLogo = (15 / 1266) * (unscaledHeight);
				heightLogo = heightLogo > 15 ? 15:heightLogo;
				heightLogo = heightLogo < 10 ? 10:heightLogo;
				
				
			}
			
			[Bindable] public var tamRealFontNombreUsuario:Number;
			[Bindable] public var rightPaddingDatosCliente:Number;
			[Bindable] public var botonBarWidth:Number  = 267;
			[Bindable] public var labelWidth:Number  = 1530;
			[Bindable] public var tamReal:Number;
			[Bindable] public var textAreaPaddingTop:Number = 0;
			/*[Bindable] public var paddingRightSecciones:Number = 0;
			[Bindable] public var paddingLeftSecciones:Number = 0;*/
			[Bindable] public var paddingTopLblObs:Number;
			[Bindable] public var heightTopLblObs:Number;
			[Bindable] public var unscaledWidthAnt:Number;
			override protected function updateDisplayList(unscaledWidth:Number, unscaledHeight:Number):void {
				super.updateDisplayList(unscaledWidth, unscaledHeight);
				trace(unscaledWidth);
				if(unscaledWidth != unscaledWidthAnt){
					tamReal = (unscaledWidth / 2005) * 679;
					tamReal = tamReal < 276 ? 233: tamReal;
					
					
					var tamRealFont:Number = (unscaledWidth / 2005) * 30;
					tamRealFont = tamRealFont < 16 ? 16: tamRealFont;
					if(tamRealFont>30)
						tamRealFont=30;
					
					
					tamRealFontNombreUsuario = (unscaledWidth / 2005) * 18;
					tamRealFontNombreUsuario = tamRealFontNombreUsuario < 13 ? 13: tamRealFontNombreUsuario;
					
					if(tamRealFontNombreUsuario>18)
						tamRealFontNombreUsuario = 18;
					
					
					rightPaddingDatosCliente = (unscaledWidth / 2005) * 75;
					rightPaddingDatosCliente = rightPaddingDatosCliente < 0 ? 0 : rightPaddingDatosCliente;				
					if(unscaledWidth<815)
						rightPaddingDatosCliente=10
					
					botonBarWidth = (unscaledWidth / 2005) * 267;
					botonBarWidth = botonBarWidth < 170 ? 170 : botonBarWidth;
					if(botonBarWidth>267)
						botonBarWidth=267;

					labelWidth = (unscaledWidth / 2005) * 1530;
					labelWidth = labelWidth < 170 ? 170 : labelWidth;
					if(labelWidth>1530)
						labelWidth=1530;
					
					/*paddingRightSecciones = (unscaledWidth / 2005) * 100;
					paddingRightSecciones = paddingRightSecciones < 35 ? 35 : paddingRightSecciones;
					if(paddingRightSecciones>100)
						paddingRightSecciones=100;

					paddingLeftSecciones = (unscaledWidth / 2005) * 75;
					paddingLeftSecciones = paddingLeftSecciones < 10 ? 10 : paddingLeftSecciones;
					if(paddingLeftSecciones>100)
						paddingLeftSecciones=100;*/
					
					paddingTopLblObs = (unscaledWidth / 2005) * 40;
					paddingTopLblObs = paddingTopLblObs < 10 ? 10: paddingTopLblObs;
					
					if(paddingTopLblObs>40)
						paddingTopLblObs = 40;

					heightTopLblObs = (unscaledWidth / 2005) * 60;
					heightTopLblObs = heightTopLblObs < 25 ? 25: heightTopLblObs;
					
					if(heightTopLblObs>60)
						heightTopLblObs = 60;
					
				}
				
				unscaledWidthAnt = unscaledWidth;
				
			}
			
			public function recibeCliente(idCliente:int):void{
				var item:CatClientes_IR_Item_imagen = new CatClientes_IR_Item_imagen();
				
				try
				{
					imagenAct.source = 	imgCliente.getInstance()["cliente_"+ idCliente ];
				}
				catch (error:Error)
				{
					imagenAct.source = imgCliente.getInstance().default_Select;
					
				}
			}
			
			private function muestraListaAsuntos(event:ObtenerVisitas, index:int):void{
				
				/*if(event.nombresDocs != null)*/
					/*nombresDocs = event.nombresDocs.split(',');
				
					listaAsuntos.setDetallesVisita(data as ObtenerVisitas, index, nombresDocs);
					listaAsuntos.addEventListener("cerrarPop",cerrarPopUp);*/
			}
			
			public function setInfoLista(value:ArrayCollection):void
			{
				gridVisita.dataProvider = value;
				if(gridVisita.dataProvider.length > 0){
					gridVisita.selectedIndex = indiceSeleccionado;
					currentEV = gridVisita.dataProvider[indiceSeleccionado];
					sprint = value[0].sprint;
				}
				if(value.length > 0)
					listaActividades.dataProvider = obtenerVisitaPlanificasEV(value[indiceSeleccionado].usuarioEV);
				
				visitas = 0;
				calificacionPromedioEV = 0;
				for each (var i:VisitaCliente in gridVisita.dataProvider) 
				{
					visitas = i.numVisitas;
					noTotalVisitas += i.numVisitas
				}

				for each (var i:VisitaCliente in listaActividades.dataProvider) 
				{
					calificacionPromedioEV += i.calificacionEV;
				}
				
				calificacionPromedioEV = calificacionPromedioEV/listaActividades.dataProvider.length;
				calificacionPromedioEV = Math.round(calificacionPromedioEV);
				
				setTimeout(totalVisitas,300);
				recalcularValorCredito(new Event("recalcularCredito"));
			}
			
			/*protected function completarSprint(event:MouseEvent):void
			{
				dispatchEvent(new Event("completarSprint"));
			}*/
			[Bindable] var listaHallazgosResp:ArrayCollection;
			protected function init(event:FlexEvent):void
			{
				addEventListener("recalcularCredito",recalcularValorCredito);
				
				botoneraHead.addEventListener(EventoCierreSprintGV.CLIC_BOTONERA_CIERRE_DE_SPRINT,filtrarBotonera)
				addEventListener(EventoCierreSprintGV.MOSTRAR_POPUP_INFORMACION_VISITA_CIERRE_SPRINT,mostrarPopUpDetalleVisita);
				addEventListener(EventoCierreSprintGV.ASIGNAR_CREDITOS_UNIVERSO,recalcularCreditos);
				addEventListener(EventoCierreSprintGV.MOSTRAR_HALLAZGOS_DETALLES_VISITA_CIERRE_SPRINT, controlaDetallesHallazgos);
				lstHallazgos.addEventListener("validaGuardarPapa",validarFuncionGuardar,false,0,true);
				lstHallazgos.addEventListener("restauraDatosDesdeResp",restauraDatosDesdeResp,false,0,true);
				
				botoneraHead.selectIndex = 0;
				
				colorPlanificar = 0xeaeaea;
			}
			
			public function restauraDatosDesdeResp(event:Event) : void
			{
				//lstHallazgos.selectedItem = ObjectUtil.copy(listaHallazgosResp.getItemAt(lstHallazgos.selectedItem)) as HallazgosAcciones;
				lstHallazgos.dataProvider[lstHallazgos.selectedIndex] = ObjectUtil.copy(listaHallazgosResp.getItemAt(lstHallazgos.selectedIndex)) as HallazgosAcciones;
			}
			
			public function changeDetallesHallazgos(event:IndexChangeEvent) : void
			{
				trace(event.oldIndex);
				if (event.oldIndex > -1 && lstHallazgos.dataProvider && lstHallazgos.dataProvider.length > 0) {
					var hallazgo:HallazgosAcciones = lstHallazgos.dataProvider[event.oldIndex] as HallazgosAcciones;
					hallazgo.rectDescVisible = false;
					hallazgo.rectDescVisibleDescartado = false;
				}
			}
			
			public function controlaDetallesHallazgos(event:EventoCierreSprintGV) : void
			{		
				var hallazgo:HallazgosAcciones = lstHallazgos.selectedItem as HallazgosAcciones;
				if (hallazgo.checkSeleccionado ) {
					hallazgo.rectDescVisibleDescartado = true;
					hallazgo.rectDescVisible = false;
				} else {
					hallazgo.rectDescVisibleDescartado = false;
					hallazgo.rectDescVisible = true;
				}
				/*var posRectVisible:int=1000;
				var posRectVisibleDescartado:int=1000;
				for(var i:int=0; i<lstHallazgos.dataProvider.length; i++){
					if(lstHallazgos.dataProvider.getItemAt(i).rectDescVisible){
						posRectVisible=i;
						break;
					}else if(lstHallazgos.dataProvider.getItemAt(i).rectDescVisibleDescartado){
						posRectVisibleDescartado=i;
						break;
					}
				}
				
				if(lstHallazgos.selectedIndex == posRectVisibleDescartado){
					lstHallazgos.dataProvider.getItemAt(posRectVisibleDescartado).rectDescVisibleDescartado = true;
					lstHallazgos.dataProvider.getItemAt(posRectVisibleDescartado).rectDescVisible = false;
				}
				
				if(posRectVisible==1000){
					if(lstHallazgos.dataProvider.getItemAt(lstHallazgos.selectedIndex).checkSeleccionado == false){
						lstHallazgos.dataProvider.getItemAt(lstHallazgos.selectedIndex).rectDescVisible = true;
						lstHallazgos.dataProvider.getItemAt(lstHallazgos.selectedIndex).rectDescVisibleDescartado = false;
					}
				}
				if(lstHallazgos.selectedIndex == posRectVisible){
					if(lstHallazgos.selectedItem.checkSeleccionado){
						lstHallazgos.dataProvider.getItemAt(posRectVisible).rectDescVisibleDescartado = true;
						lstHallazgos.dataProvider.getItemAt(posRectVisible).rectDescVisible = false;
					}else{
						lstHallazgos.dataProvider.getItemAt(posRectVisible).rectDescVisible = true;
						lstHallazgos.dataProvider.getItemAt(posRectVisible).rectDescVisibleDescartado = false;
					}
					
				}else if(lstHallazgos.selectedIndex != posRectVisible && posRectVisible != 1000){
					lstHallazgos.dataProvider.getItemAt(posRectVisible).rectDescVisible = false;
					if(lstHallazgos.dataProvider.getItemAt(lstHallazgos.selectedIndex).checkSeleccionado == false)
						lstHallazgos.dataProvider.getItemAt(lstHallazgos.selectedIndex).rectDescVisible = true;
				}*/
			}

			public function recargaLista() : void
			{	
				for(var i:int=0; i<lstHallazgos.dataProvider.length; i++){
					lstHallazgos.dataProvider[i] = ObjectUtil.copy(listaHallazgosResp.getItemAt(i)) as HallazgosAcciones;
				}
				/*lstHallazgos.dataProvider = listaHallazgosResp;*/
				btnGuardar.enabled = false;
			}
			
			[Bindable] public var visitaClienteSeleccionada:VisitaCliente;
			public var muestraCuadricula:Boolean = true;
			public function ocultaCuadricula(event:EventoCierreSprintGV) : void
			{
				if(event && event.visitaCliente){
					visitaClienteSeleccionada = event.visitaCliente;
					if(muestraCuadricula == false){
						muestraCuadricula = true;
					}else{
						muestraCuadricula = false;
						if(visitaClienteSeleccionada != null)
							recibeCliente(visitaClienteSeleccionada.idCliente);
						
						if(visitaClienteSeleccionada != null)
							listaDocumentosVisita.dataProvider = visitaClienteSeleccionada.documentosReporte;
					}
					if(visitaClienteSeleccionada.empleado.area != null && visitaClienteSeleccionada.empleado.area != '')
						visitaClienteSeleccionada.empleado.area;
					else
						visitaClienteSeleccionada.empleado.area = "N/D";
					muestraCuadriculaInicio();
				}
			}

			public function cambiaMuestraCuadricula() : void
			{
				if(muestraCuadricula == false){
					muestraCuadricula = true;
				}else{
					muestraCuadricula = false;
					recibeCliente(visitaClienteSeleccionada.idCliente);
				}
				muestraCuadriculaInicio();
			}
			
			public function muestraCuadriculaInicio():Boolean
			{
				if(muestraCuadricula == true && gridVisita.dataProvider != null && gridVisita.dataProvider.length != 0){
					var event:Event;
					cuadricula.visible = true;
					cuadricula.includeInLayout = true;
					barraEVs.visible = true;
					barraEVs.includeInLayout = true;
					barraEVs1.visible = true;
					barraEVs1.includeInLayout = true;
					barraEVs2.visible = true;
					barraEVs2.includeInLayout = true;
					barraEVs3.visible = true;
					barraEVs3.includeInLayout = true;
					detalles.visible = false;
					detalles.includeInLayout = false;
					asignarCurrentEV(event as IndexChangeEvent);
					return true;
				}else if(muestraCuadricula == false && gridVisita.dataProvider != null && gridVisita.dataProvider.length != 0){
					cuadricula.visible = false;
					cuadricula.includeInLayout = false;
					barraEVs.visible = false;
					barraEVs.includeInLayout = false;
					barraEVs1.visible = false;
					barraEVs1.includeInLayout = false;
					barraEVs2.visible = false;
					barraEVs2.includeInLayout = false;
					barraEVs3.visible = false;
					barraEVs3.includeInLayout = false;
					detalles.visible = true;
					detalles.includeInLayout = true;	
					return false;
				}
				
				cuadricula.visible = true;
				cuadricula.includeInLayout = true;
				detalles.visible = false;
				detalles.includeInLayout = false;
				return true;
			}
			
			
			private function calcularResize():void
			{
				
			}
			
			////////////////////////////       POPUP DETALLE DE VISITA Y CLIENTE
			private var popUpDetalle:PopUpDetallesVisistaCierreSprint;
			private function mostrarPopUpDetalleVisita(event:EventoCierreSprintGV):void
			{
				if( popUpDetalle == null ){
					popUpDetalle = PopUpDetallesVisistaCierreSprint(PopUpManager.createPopUp( this, PopUpDetallesVisistaCierreSprint, true ) );
					PopUpManager.centerPopUp( popUpDetalle );
					popUpDetalle.setDetallesVisita(event.visitaCliente);
					popUpDetalle.addEventListener("cerrarPop",cerrarPopUp);
				}else{
					PopUpManager.addPopUp( popUpDetalle , this, true );
				}
			}
			private function cerrarPopUp(event:Event):void
			{
				PopUpManager.removePopUp( popUpDetalle );
				popUpDetalle = null;
			}
			[Bindable] private var datosAsuntos:ArrayCollection;
			public function set recibeDatosAsuntos(datos:ArrayCollection):void
			{
				if(datos != null)
					datosAsuntos = datos;
				listaAsuntos.dataProvider = datosAsuntos;
				if(listaAsuntos.dataProvider.length > 1){
					hgAsuntos.percentHeight = 30;
					vgDocumentos.percentHeight = 20;
				}else{
					hgAsuntos.percentHeight = 22;
					vgDocumentos.percentHeight = 28;
				}
				
			}
			
			[Bindable] private var montoTotal:Number;
			[Bindable] private var reqRealizados:Number;
			[Bindable] private var partidasEnReq:Number;
			[Bindable] private var fabricas:Object;
			[Bindable] private var datosSeccionReporte:ReportarVisita;
			public function set recibeDatosSeccionReporte(datos:ReportarVisita):void
			{
				prodCotizados = 0;
				montoTotal = 0;
				partidasEnReq = 0;
				reqRealizados = 0;
				fabricas = new Object;
				fabricas.total = 0;
				
				if(datos != null){
					datosSeccionReporte = datos/*.getItemAt(0).solicitudesVisita*/;
					
					partidasEnReq = datosSeccionReporte.requisicion != null && datosSeccionReporte.requisicion.partidaRequisicion != null ? datosSeccionReporte.requisicion.partidaRequisicion.length : 0;
				
					/*Cotización*/
					if(datosSeccionReporte.cotizacion){
						for(var i:int=0; i<datosSeccionReporte.cotizacion.length; i++){
							prodCotizados += datosSeccionReporte.cotizacion.getItemAt(i).partidas.length;
							
							for(var j:int = 0; j < datosSeccionReporte.cotizacion.getItemAt(i).partidas.length; j++){
								if(!fabricas.hasOwnProperty(datosSeccionReporte.cotizacion.getItemAt(i).partidas.getItemAt(j).fabrica)){
									fabricas.total += 1;
								}
								
								montoTotal += datosSeccionReporte.cotizacion.getItemAt(i).partidas.getItemAt(j).precioDolarProducto * datosSeccionReporte.cotizacion.getItemAt(i).partidas.getItemAt(j).cantidad;
							}
							
						}
					}
				
					/*Requerimientos*/
					if(datosSeccionReporte.requerimientos){
						for(var i:int=0; i<datosSeccionReporte.requerimientos.length; i++){
							
							if(datosSeccionReporte.requerimientos.getItemAt(i).respuesta != null && datosSeccionReporte.requerimientos.getItemAt(i).respuesta != ''){
								reqRealizados++;
							}
								
							
							
						}
					}
					
				}
			}

			[Bindable] private var datosSeccionHallazgos:ArrayCollection;
			public function set recibeDatosSeccionHallazgos(datos:ArrayCollection):void
			{
				if(datos != null){
					datosSeccionHallazgos = datos;
					lstHallazgos.dataProvider = datos;
					listaHallazgosResp = ObjectUtil.copy(datos) as ArrayCollection;
				}
			}
			
			
			private function filtrarBotonera(event:EventoCierreSprintGV):void
			{
				var tipoVista:String = "";
				if(event.tipoBoton== "todas"){
					listaActividades.dataProvider = ObjectUtil.copy(uniAc) as ArrayCollection;
					
				}else if(event.tipoBoton == "pendiente"){
					listaActividades.dataProvider = UtilsGrid.queryCampoXLike(uniAc,"estado",'Pendiente');
					
				}else if(event.tipoBoton == "finalizada"){
					listaActividades.dataProvider = UtilsGrid.queryCampoXLike(uniAc,"estado",'Finalizado');
					
				}
				else if(event.tipoBoton == "noFinalizadas"){
					listaActividades.dataProvider = UtilsGrid.queryCampoXLike(uniAc,"estado",'No finalizada');
					
				}
				
				obtenerPorcentajeActual();
			/*	recalcularValorCredito(new Event("recalcularCredito"));*/

				
				var lista:ArrayCollection = gridVisita.dataProvider as ArrayCollection;
				for each (var solicitud:VisitaCliente in lista) 
				{
					solicitud.tipoVista = tipoVista;
				}
			}
			
			[Bindable]private var porcentajeActual:Number;
			[Bindable]private var creditosActuales:Number;
			
			private function obtenerPorcentajeActual():void{
				porcentajeActual = 0;
				creditosActuales = 0;
				cargadasSolicitudes = 0;
				cargadasCRM = 0;
				
				for (var p:int = 0; p < listaActividades.dataProvider.length; p++) 
				{
					if(listaActividades.dataProvider[p].tipo == 'solicitud')
						cargadasSolicitudes += 1;
					else if(listaActividades.dataProvider[p].tipo == 'crm')
						cargadasCRM += 1;
					
					porcentajeActual += listaActividades.dataProvider[p].valor;
					creditosActuales += listaActividades.dataProvider[p].credito;
				}
				
				
			}
			
			private function obtenerVisitaPlanificasEV(usuarioEV:String):ArrayCollection
			{
				var universoActual:ArrayCollection = new ArrayCollection;
				var punterosCliente:Array;
				punterosCliente = _sql.getPunteros([usuarioEV]);
				for (var i:int = 0; i < punterosCliente.length; i++) 
				{
					var temp:VisitaCliente = ObjectUtil.copy(_sql.universo.getItemAt(punterosCliente[i])) as VisitaCliente;
					temp.numVisitas = _sql.getPunteros([usuarioEV]).length;
					universoActual.addItem( temp );
				}
				uniAc = universoActual;
				return universoActual;
			}
			public function setUniverso(value:Query):void
			{
				if(value)
				{
					_sql = value;
					universo = ObjectUtil.copy(value.universo) as ArrayCollection;
					
				}
					
				
			}
			
			[Bindable]public var creditoTotal:Number;
			private function recalcularValorCredito(event:Event):void
			{
				if(!listaActividades || !listaActividades.dataProvider)
					return ;
				var valor:Number
				valor = 100/listaActividades.dataProvider.length;
				creditoTotal = 0;
				creditosActuales = 0;
				for each (var temp:VisitaCliente in listaActividades.dataProvider) 
				{
					creditosActuales += temp.credito;
					temp.valor = Number (UtilsFormatosNumericos.precisionADosDecimales(valor) );
					porcentajeActual = 100;
				}
			}
			
			private function totalVisitas():void
			{
				cargadasSolicitudes = 0;
				cargadasCRM = 0;
				
				var todos:int = 0;
				for each (var temp:VisitaCliente in listaActividades.dataProvider) 
				{
					if(temp.tipo == 'solicitud')
						cargadasSolicitudes += 1;
					else if(temp.tipo == 'crm')
						cargadasCRM += 1;
				}
				
				todos = cargadasSolicitudes + cargadasCRM;
				
				if(cargadasSolicitudes == 0)
					colorContadorSolicitudes = 0xde0017;
				else if(cargadasSolicitudes < 15)
					colorContadorSolicitudes = 0xf09500;
				else if(cargadasSolicitudes == 15)
					colorContadorSolicitudes = 0x4fa834;
				
				
				if(cargadasCRM == 0)
					colorContadorCRM = 0xde0017;
				else if(cargadasCRM < 15)
					colorContadorCRM = 0xf09500;
				else if(cargadasCRM == 15)
					colorContadorCRM = 0x4fa834;
				
				if(todos == 0)
					colorContadorTodos = 0xde0017;
				else if(todos < 30)
					colorContadorTodos = 0xf09500;
				else if(todos == 30)
					colorContadorTodos = 0x4fa834;
			}
			
			public function asignarCurrentEV(event:IndexChangeEvent):void
			{
				currentEV = gridVisita.selectedItem;
				if(currentEV != null){
					
					var arrayEV:Array = _sql.getPunteros([currentEV.usuarioEV],"usuarioEV");
					
					listaActividades.dataProvider = obtenerVisitaPlanificasEV(currentEV.usuarioEV);
					
					visitas = 0;
					for each (var i:VisitaCliente in gridVisita.dataProvider) 
					{
						visitas = i.numVisitas;
					}
					
					observacionesEV = "";
					setTimeout(totalVisitas,300);
					recalcularValorCredito(new Event("recalcularCredito"));
				}
				
			}
			
			private function obtenerCadenaFecha(fechaInicio:Date,fechaFin:Date):String
			{
				var fecha:String;
				if(fechaInicio && fechaFin){
					fecha = fechaInicio.getDate()+" - "+ fechaFin.getDate() +" / "+UtilsFecha.regresaNombreMesPrimeraMayuscula(fechaFin.getMonth())+" / "+fechaFin.getFullYear();
				}else
					fecha = "ND";
				
				fechaSprint = fecha;
				return fecha;
			}
			
		
			
			
			protected function finalizarSprint(event:MouseEvent):void
			{
				dispatchEvent(new Event("AbrirPopUpParaFinalizarSprint"));
			}
			
			public function asignarVisitasSprint():void
			{
				var visitas:ArrayCollection = ObjectUtil.copy( listaActividades.dataProvider ) as ArrayCollection;
				for each (var temp:VisitaCliente in visitas) 
				{
					if(temp.credito == 0){
						temp.credito = 1;
					}
				}
				
				if(listaActividades && listaActividades.dataProvider && listaActividades.dataProvider.length > 0){
					var eventCierre:EventoCierreSprintGV = new  EventoCierreSprintGV(EventoCierreSprintGV.MANDAR_INFORMACION_PARA_CIERRE_DE_SPRINT);
					eventCierre.visitasEmpleado = visitas;
					
					eventCierre.idEmpleado = visitas[0].idEmpleado;
					eventCierre.idSprint = visitas[0].sprint.idSprint; 
					eventCierre.observaciones = observacionesEV;
					eventCierre.calificacionEV = calificacionEV;
				    dispatchEvent(eventCierre);
				}
			}
			
			
			
			
			
	    	private var popUpObservaciones:PopUpAgregarObservacionesCierre;
			private function redactar_observaciones(event:MouseEvent):void
			{
				if( popUpObservaciones == null ){
					popUpObservaciones = PopUpAgregarObservacionesCierre(PopUpManager.createPopUp( this, PopUpAgregarObservacionesCierre, true ) );
					PopUpManager.centerPopUp( popUpObservaciones );
					popUpObservaciones.reVisitaActual(gridVisita.dataProvider[gridVisita.selectedIndex]); 
					popUpObservaciones.fechaSprint = fechaSprint;
					popUpObservaciones.calificacionPromedioEV.calificacion = calificacionPromedioEV;
					if(observacionesEV != "")
						popUpObservaciones.recibirObservaciones(observacionesEV);
					popUpObservaciones.addEventListener("cerrarPopUp",cerrarPopUpobservaciones);
					popUpObservaciones.addEventListener("aceptarPopUp",aceptarPopUpObservaciones);
				}else{
					PopUpManager.addPopUp( popUpObservaciones , this, true );
				}
			}
			
			private function aceptarPopUpObservaciones(event:Event):void{
				observacionesEV = popUpObservaciones.getObservacion();
				calificacionEV = popUpObservaciones.getCalificacion();
				validarBotonFinalizar();
				PopUpManager.removePopUp( popUpObservaciones );
				popUpObservaciones = null;
			}
			private function cerrarPopUpobservaciones(event:Event):void
			{
				PopUpManager.removePopUp( popUpObservaciones );
				popUpObservaciones = null;
			}
			
			private function validarBotonFinalizar():void{
				
				if(observacionesEV == "")
				{
					colorPlanificar = 0xeaeaea;
					botonRegistrar.removeEventListener(MouseEvent.CLICK,finalizarSprint);
					botonRegistrar.buttonMode = false;
				}
				else{
					colorPlanificar = 0x5FB404;
					botonRegistrar.addEventListener(MouseEvent.CLICK,finalizarSprint);
					botonRegistrar.buttonMode = true;
				}
			}
			
			private function recalcularCreditos(event:EventoCierreSprintGV):void
			{
				if(!listaActividades || !listaActividades.dataProvider)
					return ;
				creditoTotal = 0;
				for each (var temp:VisitaCliente in listaActividades.dataProvider) 
				{
					creditoTotal += temp.credito;
				}
				creditosActuales = creditoTotal;
				
				for each (var temp:VisitaCliente in uniAc) 
				{
					if(event.idVisitaCliente == temp.idVisitaCliente){
						temp.credito = event.credito;
						break;
					}
				}
			}


			public function cambiaSeccion_clickHandler(event:MouseEvent, btn:String):void
			{
				if(btn=='btnDetalleVista'){
					colorBtnDetalleVista.color = 0xdfdfe0;
					colorBtnReporte.color = 0xffffff;
					colorBtnHallazgo.color = 0xffffff;
					lineaItemSeleccionadoDetalleVisita.visible = true;
					lineaItemSeleccionadoReporte.visible = false;
					lineaItemSeleccionadoHallazgo.visible = false;
					detalleVisita.visible = true;
					detalleVisita.includeInLayout = true;
					reporte.visible = false;
					reporte.includeInLayout = false;
					hallazgo.visible = false;
					hallazgo.includeInLayout = false;
				}else if(btn=='btnReporte'){
					var evento:EventoCierreSprintGV = new EventoCierreSprintGV(EventoCierreSprintGV.OBTENER_DATOS_SECCION_REPORTE);
					evento.idVisitaCliente = visitaClienteSeleccionada.idVisitaCliente;
					dispatchEvent(evento);
					colorBtnDetalleVista.color = 0xffffff;
					colorBtnReporte.color = 0xdfdfe0;
					colorBtnHallazgo.color = 0xffffff;
					lineaItemSeleccionadoDetalleVisita.visible = false;
					lineaItemSeleccionadoReporte.visible = true;
					lineaItemSeleccionadoHallazgo.visible = false;
					detalleVisita.visible = false;
					detalleVisita.includeInLayout = false;
					reporte.visible = true;
					reporte.includeInLayout = true;
					hallazgo.visible = false;
					hallazgo.includeInLayout = false;
				}else if(btn=='btnHallazgo'){
					var eventoDatosHallazgos:EventoCierreSprintGV = new EventoCierreSprintGV(EventoCierreSprintGV.OBTENER_DATOS_SECCION_HALLAZGOS);
					eventoDatosHallazgos.idVisitaCliente = visitaClienteSeleccionada.idVisitaCliente;
					dispatchEvent(eventoDatosHallazgos);
					colorBtnDetalleVista.color = 0xffffff;
					colorBtnReporte.color = 0xffffff;
					colorBtnHallazgo.color = 0xdfdfe0;
					lineaItemSeleccionadoDetalleVisita.visible = false;
					lineaItemSeleccionadoReporte.visible = false;
					lineaItemSeleccionadoHallazgo.visible = true;
					detalleVisita.visible = false;
					detalleVisita.includeInLayout = false;
					reporte.visible = false;
					reporte.includeInLayout = false;
					hallazgo.visible = true;
					hallazgo.includeInLayout = true;
				}
				
			}
			
			protected function cambiaSeccion_mouseOverHandler(event:MouseEvent, btn:String):void
			{
				if(btn=='btnDetalleVista'){
					if (lineaItemSeleccionadoDetalleVisita.visible) {
						colorBtnReporte.color = 0xffffff;
						colorBtnHallazgo.color = 0xffffff;
					}
					if (lineaItemSeleccionadoReporte.visible) {
						colorBtnDetalleVista.color = 0xdfdfe0;
						colorBtnHallazgo.color = 0xffffff;
					}
					if (lineaItemSeleccionadoHallazgo.visible) {
						colorBtnDetalleVista.color = 0xdfdfe0;
						colorBtnReporte.color = 0xffffff;
					}
				}else if(btn=='btnReporte'){
					if (lineaItemSeleccionadoDetalleVisita.visible) {
						colorBtnReporte.color = 0xdfdfe0;
						colorBtnHallazgo.color = 0xffffff;
					}
					if (lineaItemSeleccionadoReporte.visible) {
						colorBtnDetalleVista.color = 0xffffff;
						colorBtnHallazgo.color = 0xffffff;
					}
					if (lineaItemSeleccionadoHallazgo.visible) {
						colorBtnDetalleVista.color = 0xffffff;
						colorBtnReporte.color = 0xdfdfe0;
					}
				}else if(btn=='btnHallazgo'){
					if (lineaItemSeleccionadoDetalleVisita.visible) {
						colorBtnReporte.color = 0xffffff;
						colorBtnHallazgo.color = 0xdfdfe0;
					}
					if (lineaItemSeleccionadoReporte.visible) {
						colorBtnDetalleVista.color = 0xffffff;
						colorBtnHallazgo.color = 0xdfdfe0;
					}
					if (lineaItemSeleccionadoHallazgo.visible) {
						colorBtnDetalleVista.color = 0xffffff;
						colorBtnReporte.color = 0xffffff;
					}
				}
			}
			
			var totalInsertados:int = 0;
			public function guardaCambios():void
			{	
				activaFuncion=true;
				var eventoGuarda:EventoCierreSprintGV = new EventoCierreSprintGV(EventoCierreSprintGV.GUARDA_OBSERVACIONES);
				eventoGuarda.listaHallazgos = lstHallazgos.dataProvider as ArrayCollection;
				dispatchEvent(eventoGuarda);
			}
			var i:int = 1;
			public var activaFuncion:Boolean =false;
			public function set recibeRespuestaInsercion(insertCorrecto:Boolean):void
			{
				if(activaFuncion){
					if(insertCorrecto){
						var eventoDatosHallazgos:EventoCierreSprintGV = new EventoCierreSprintGV(EventoCierreSprintGV.OBTENER_DATOS_SECCION_HALLAZGOS);
						eventoDatosHallazgos.idVisitaCliente = visitaClienteSeleccionada.idVisitaCliente;
						dispatchEvent(eventoDatosHallazgos);
						btnGuardar.enabled = false;
							
						alertaSingleton.show("El registro se guardó con éxito", "Éxito");
						
						setTimeout(alerta, 500);
						
					}else{
						alertaSingleton.show("Error, por favor intente de nuevo", "Error al guardar")
					}
					activaFuncion=false;
				}	
			}
			
			public function alerta() {
				dispatchEvent(new Event("RefrescaContHallazgos"));
			}
			
			public function validarFuncionGuardar(event:Event):void
			{
				for(var i:int=0; i<datosSeccionHallazgos.length; i++){
					if(datosSeccionHallazgos.getItemAt(i).modificado == true){
						btnGuardar.enabled = true;
						break;
					}else{
						btnGuardar.enabled = false;
					}
				}
				
				/*if(datosSeccionHallazgos != listaHallazgosResp){
					btnGuardar.enabled=true;
				}else{
					btnGuardar.enabled=false;
				}*/
			}
			
		]]>
	</fx:Script>
	<s:HGroup width="100%" height="100%" gap="0" paddingRight="20" paddingLeft="6">
		<s:VGroup width="20%" height="100%" gap="0" paddingTop="20" id="barraEVs">
			<s:Label styleName="TituloNovecento_18" fontWeight="bold" fontSize="{sizeFontProvee}" text="EJECUTIVOS DE VENTAS" width="100%" textAlign="left" color="#424242" id="lblTitulo"/>
			<s:Spacer height="20%" maxHeight="20" width="100%" id="spacer1"/>
		
			<s:Spacer height="20%" maxHeight="20" width="100%" id="spacer2"/>
			<otros:division width="100%" grueso="1" visible="{gridVisita.selectedIndex == 0 ? false:true}" id="division"/>
			<s:List width="100%" height="100%" borderVisible="false" horizontalScrollPolicy="off"
					id="gridVisita" contentBackgroundAlpha="0"  change="{muestraCuadricula ? asignarCurrentEV(event) : cambiaMuestraCuadricula()}"
					itemRenderer="vista.juntaDeCierre.IR.IR_ListaEjecutivosCierreDeSprint"
					/>
			<otros:division width="100%" grueso="1"/>
			<s:VGroup width="100%" height="55" verticalAlign="middle" paddingLeft="20" paddingRight="20">
				<s:HGroup width="100%" height="100%" verticalAlign="middle">
					<s:HGroup width="100%" height="100%" horizontalAlign="center" verticalAlign="middle">
						<s:Label styleName="TituloNovecento_18" fontSize="{sizeFontLittle+3}" text="#{gridVisita.dataProvider.length} EC" 
								 color="#424242" />
						
						<s:Spacer width="100%" />
						
						<s:Group >
							<mx:Image source="{catalogoIconosBotones.getInstance().visita_verde}" width="32" top="-5" />
						</s:Group>  
						
						<s:Label styleName="TituloNovecento_18" fontSize="{sizeFontLittle+3}" text="{noTotalVisitas} Visita{noTotalVisitas==1?'':'s'}" 
								 color="#008894" />
					
					</s:HGroup>
				</s:HGroup>  
				
			</s:VGroup>
		</s:VGroup>    
		
		<s:Spacer width="17" id="barraEVs1"/>
		<otros:divisionDegradadoVertical height="100%" width="2" id="barraEVs2"/>
		<s:Spacer width="17" id="barraEVs3"/>
		
		<s:VGroup id="cuadricula" width="100%" height="100%" gap="0">
			<s:HGroup width="100%" height="{sizeFontProvee + 40}" verticalAlign="middle" gap="0">
				<s:HGroup width="20%" height="100%" >
					<s:Label text="SPRINT #{sprint.numeroSprint} " height="100%" textAlign="center" verticalAlign="middle" color="#404040" 
							 fontFamily="Novecento" fontSize="{sizeFontBoton}" fontWeight="bold" id="txtSprint" visible="false"/>
					<s:Spacer width="10" />
					<s:Label text="({obtenerCadenaFecha(sprint.fechaInicio,sprint.fechaFin)})" height="100%" textAlign="center" verticalAlign="middle" color="#5f5f5f" 
							 fontFamily="Novecento" fontSize="{sizeFontLittle}" paddingTop="5" visible="false"/>
				</s:HGroup>  
				
				<s:HGroup width="10%" height="100%" >
					
				</s:HGroup>  
				
				
				<s:VGroup width="70%" height="100%" buttonMode="true" verticalAlign="middle">
					
					<componentes:BotoneraCierreDeSprint height="100%" width="100%" maxHeight="30" id="botoneraHead"/>
				
				</s:VGroup>
			</s:HGroup>  
			
			<s:VGroup width="100%" height="100%" >
				<s:Group width="100%" height="100%" >
					
					<s:Rect width="100%" height="100%">
						<s:stroke>
							<s:SolidColorStroke color="#008894" weight="1"/>
						</s:stroke>
					</s:Rect>
					<s:List id="listaActividades" width="100%" height="100%" itemRenderer="vista.juntaDeCierre.IR.TarjetaInformacionCierreDeSprint"
							horizontalScrollPolicy="off" borderVisible="false" top="1" bottom="1" right="1" left="1" >
						<s:layout>
							<s:TileLayout verticalGap="0" horizontalGap="0" id="layoutLista" columnAlign="justifyUsingWidth">
								
							</s:TileLayout>
						</s:layout>
						
					</s:List>
				</s:Group>  
				
				
			</s:VGroup>
			
			<s:HGroup width="100%" verticalAlign="middle" paddingTop="20" paddingBottom="20">
				<s:HGroup width="7%" height="100%" gap="0" verticalAlign="middle" horizontalAlign="center">
					<s:Label fontFamily="Novecento" fontWeight="bold" text="CRM" fontSize="{sizeFontLittle}" color="{colorContadorCRM}"/>
					<s:Spacer width="5%" />
					<s:Label fontFamily="Novecento" fontWeight="bold" text="{cargadasCRM}/15" fontSize="{sizeFontLittle}" color="{colorContadorCRM}"/>
				</s:HGroup>
				<s:HGroup width="10.5%" height="100%" gap="0" verticalAlign="middle" horizontalAlign="center">
					<s:Label fontFamily="Novecento" fontWeight="bold" text="SOLICITUDES" fontSize="{sizeFontLittle}" color="{colorContadorSolicitudes}"/>
					<s:Spacer width="5%" />
					<s:Label fontFamily="Novecento" fontWeight="bold" text="{cargadasSolicitudes}/15" fontSize="{sizeFontLittle}" color="{colorContadorSolicitudes}" id="contadorSolicitudes"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="0" verticalAlign="middle" horizontalAlign="center">
					<s:Label fontFamily="Novecento" fontWeight="bold" text="VISITAS CARGADAS" fontSize="{sizeFontLittle}" color="{colorContadorTodos}"/>
					<s:Spacer width="5%" />
					<s:Label fontFamily="Novecento" fontWeight="bold" text="{cargadasCRM+cargadasSolicitudes}/30" fontSize="{sizeFontLittle}" color="{colorContadorTodos}"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					
					<mx:Image source="{catalogoIconosEtiquetas.getInstance().creditos_icono}" width="{widthLogo+5}" height="{widthLogo+5}"/>
					<s:Label fontFamily="Helvetica" text="{creditosActuales+' Créditos'}" width="60%" maxDisplayedLines="2" fontSize="{sizeFontLittle+2}" color="0xcf0354"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					
					<mx:Image source="{catalogoIconosEtiquetas.getInstance().valor_icono}" width="{widthLogo+5}" height="{widthLogo+5}"/>
					<s:Label fontFamily="Helvetica" text="{porcentajeActual}% Valor" width="60%" maxDisplayedLines="2" fontSize="{sizeFontLittle+2}" color="0x009fdc"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					<mx:Image smoothBitmapContent="true" source="{catalogoIconosEtiquetas.getInstance().visita_pendiente}" width="{widthLogo}" height="{heightLogo}" />
					<s:Label fontFamily="Helvetica" text="Visita pendiente" width="58%" maxDisplayedLines="2" fontSize="{sizeFontLittle}"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					<mx:Image smoothBitmapContent="true" source="{catalogoIconosEtiquetas.getInstance().reporte_pendiente}" width="{widthLogo}" height="{heightLogo}" />
					<s:Label fontFamily="Helvetica" text="Reporte pendiente" width="60%" maxDisplayedLines="2" fontSize="{sizeFontLittle}"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					<mx:Image smoothBitmapContent="true" source="{catalogoIconosEtiquetas.getInstance().documento_azul}" width="{widthLogo}" height="{heightLogo}" />
					<s:Label fontFamily="Helvetica" text="Archivos cargados" width="60%" maxDisplayedLines="2" fontSize="{sizeFontLittle}"/>
				</s:HGroup>
				
				

				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					<mx:Image smoothBitmapContent="true" source="{catalogoIconosEtiquetas.getInstance().documento_hallazgos_no_rev}" width="{widthLogo}" height="{heightLogo}" />
					<s:Label fontFamily="Helvetica" text="Hallazgos por revisar" width="60%" maxDisplayedLines="2" fontSize="{sizeFontLittle}"/>
				</s:HGroup>
				<s:HGroup width="9%" height="100%" gap="5" verticalAlign="middle" horizontalAlign="center">
					<mx:Image smoothBitmapContent="true" source="{catalogoIconosEtiquetas.getInstance().documento_hallazgos_rev}" width="{widthLogo}" height="{heightLogo}" />
					<s:Label fontFamily="Helvetica" text="Hallazgos revisados" width="60%" maxDisplayedLines="2" fontSize="{sizeFontLittle}"/>
				</s:HGroup>
				
				
				
				<s:HGroup width="19%" height="35" buttonMode="true" click="redactar_observaciones(event)">
					<s:Group width="100%" height="100%" >
						<s:Rect width="100%" height="100%">
							<s:fill>
								<s:SolidColor color="#008894" />
							</s:fill>
						</s:Rect>
						<s:Label fontFamily="Novecento" fontWeight="bold" text="+ OBSERVACIONES" width="100%" height="100%" fontSize="{sizeFontBoton}"
								 textAlign="center" verticalAlign="middle" color="#FFFFFF"/>						
					</s:Group>  
				</s:HGroup>  
				
				<s:HGroup width="16%" height="35"  id="botonRegistrar"  >
					<s:Group width="100%" height="100%" >
						<s:Rect width="100%" height="100%">
							<s:fill>
								<s:SolidColor color="{colorPlanificar}" />
							</s:fill>
						</s:Rect>
						<s:Label fontFamily="Novecento" fontWeight="bold" text="FINALIZAR" width="100%" height="100%" fontSize="{sizeFontBoton}"
								 textAlign="center" verticalAlign="middle" color="#FFFFFF"/>						
					</s:Group>
				</s:HGroup>  
				
				
			</s:HGroup>  
			
		</s:VGroup> 
		
		
		
		<s:HGroup id="detalles" width="100%" height="100%" paddingBottom="20" visible="false" includeInLayout="false">
			
			<s:VGroup width="100%" height="100%" gap="0" paddingLeft="0" paddingRight="20">

				<s:HGroup width="100%" height="100%" maxHeight="260" paddingTop="10" paddingBottom="10" verticalAlign="middle">
					
					<s:HGroup width="33.3%"  horizontalAlign="left" verticalAlign="top" paddingBottom="20">
						<s:Image id="imagenAct" visible="true" includeInLayout="true" smoothingQuality="default" smooth="true"/>
						<s:VGroup height="100%" width="100%" verticalAlign="middle" paddingLeft="10" >
							<s:Label styleName="titulo_verdeazul_18" verticalAlign="middle" 
									 text="{visitaClienteSeleccionada.nombreCliente}"  width="100%" maxDisplayedLines="2" fontSize="{tamRealFontNombreUsuario}"/>
							<s:Label fontSize="14" fontFamily="Helvetica" color="#404040" verticalAlign="middle"
									 text="Cliente"  width="100%" maxDisplayedLines="2"/>
						</s:VGroup>  		
					</s:HGroup> 		  
					
					<s:VGroup width="46.6%" height="100%" verticalAlign="middle" paddingBottom="40" paddingTop="65" gap="4" horizontalAlign="center">
						<s:HGroup height="100%" width="100%" verticalAlign="bottom" horizontalAlign="right">
							<mx:Image source="{catalogoIconosBotones.getInstance().contacto_svg}" />	
							<s:Label styleName="titulo_verdeazul_18" text="{visitaClienteSeleccionada.contacto.nombreCompleto}" textAlign="left" fontSize="{tamRealFontNombreUsuario}" width="100%" paddingTop="28" height="100%"/>
						</s:HGroup>  
						
						<s:HGroup id="hgEmail" height="100%" width="100%" verticalAlign="middle">
							<mx:Image source="{catalogoIconosBotones.getInstance().mail_svg}" />				
							<s:Label text="{visitaClienteSeleccionada.contacto.EMail}" textAlign="left" fontFamily="Helvetica" color="#000000" fontWeight="normal" width="100%" fontSize="14"/>			
							<s:VGroup height="100%" width="100%" verticalAlign="middle" horizontalAlign="right" paddingRight="75"/>
						</s:HGroup>  
						
						<s:HGroup id="hgTel" height="100%" width="100%" verticalAlign="top">
							<mx:Image source="{catalogoIconosBotones.getInstance().telefono_svg}" />	
							<s:Label fontSize="14" color="#000000" text="{visitaClienteSeleccionada.contacto.telefono}" textAlign="left" fontFamily="Helvetica" width="100%"/>			
							<s:Label fontSize="14" color="#000000" text="{visitaClienteSeleccionada.contacto.extension1 != null ? '· Ext '+visitaClienteSeleccionada.contacto.extension1 : visitaClienteSeleccionada.contacto.extension2 != null ? '· Ext '+visitaClienteSeleccionada.contacto.extension2 : ''}" 
									 includeInLayout="{visitaClienteSeleccionada.contacto.extension1 != null ? true : visitaClienteSeleccionada.contacto.extension2 != null ? true : false}"
									 visible="{visitaClienteSeleccionada.contacto.extension1 != null ? true : visitaClienteSeleccionada.contacto.extension2 != null ? true : false}"
									 textAlign="left" fontFamily="Helvetica" width="100%"/>			
							<s:VGroup height="100%" width="100%" verticalAlign="middle" horizontalAlign="right" paddingRight="75"/>
						</s:HGroup>  
					</s:VGroup> 
					
					<s:VGroup height="100%" width="33.3%" verticalAlign="middle" horizontalAlign="right" paddingRight="{rightPaddingDatosCliente}" paddingBottom="19">
						<s:HGroup width="100%" verticalAlign="middle" horizontalAlign="right">
							<mx:Image source="{catalogoIconosEtiquetas.getInstance().visita_finalizada}" width="42" height="35" visible="{visitaClienteSeleccionada.estado == 'Finalizado'}" includeInLayout="{visitaClienteSeleccionada.estado == 'Finalizado'}"/>	
							<mx:Image source="{catalogoIconosEtiquetas.getInstance().reporte_pendiente}" width="42" height="35" visible="{visitaClienteSeleccionada.estado == 'Pendiente'}" includeInLayout="{visitaClienteSeleccionada.estado == 'Pendiente'}"/>	
							<mx:Image source="{catalogoIconosEtiquetas.getInstance().visita_pendiente}" width="42" height="35" visible="{visitaClienteSeleccionada.estado == 'No finalizada'}" includeInLayout="{visitaClienteSeleccionada.estado == 'No finalizada'}"/>
							<s:Label color="#4fa835" textAlign="right" fontFamily="Helvetica" text="Visita Finalizada" fontSize="{tamRealFontNombreUsuario+7}" paddingTop="7" visible="{visitaClienteSeleccionada.estado == 'Finalizado'}" includeInLayout="{visitaClienteSeleccionada.estado == 'Finalizado'}"/>
							<s:Label color="#d18f21" textAlign="right" fontFamily="Helvetica" text="{visitaClienteSeleccionada.estado}" fontSize="{tamRealFontNombreUsuario+7}" paddingTop="7" visible="{visitaClienteSeleccionada.estado != 'Finalizado'}" includeInLayout="{visitaClienteSeleccionada.estado != 'Finalizado'}"/>
						</s:HGroup>	
						<s:Label fontSize="14" color="#000000" text="Calificación Ejecutivo de Venta:" textAlign="right" fontFamily="Helvetica" width="100%" paddingTop="30"/>	
						<valoracion:Valoracion width="100%" readOnly="true" calificacion="{visitaClienteSeleccionada.calificacionEV}" />
					</s:VGroup>
					
					
					
					
				</s:HGroup>				
				
				<otros:division width="100%"/>
				
				<s:HGroup height="100%" width="100%" gap="0" >
					<otros:VDivisionDelgadaClara width="1"/>
					
					<s:VGroup height="100%" width="20%" gap="0">
						<s:HGroup id="btnDetalleVista" height="81" width="100%" click="cambiaSeccion_clickHandler(event, 'btnDetalleVista')" mouseOver="cambiaSeccion_mouseOverHandler(event, 'btnDetalleVista')" >
							<s:Group width="100%" height="81">
								<s:Rect width="100%" height="100%">
									<s:fill>
										<s:SolidColor id="colorBtnDetalleVista" color="#dfdfe0"/>
									</s:fill>
								</s:Rect>
								<consultas:LineaItemSeleccionado id="lineaItemSeleccionadoDetalleVisita" visible="true"/>
								<s:VGroup width="100%" height="100%" paddingLeft="3">
									<s:HGroup paddingTop="10" width="100%" height="100%" >
										<s:HGroup width="100%" height="100%" textAlign="center">
											<s:Label text="Detalle de Visita" styleName="titulo_verdeazul_18" paddingTop="20" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}"/>
										</s:HGroup>
									</s:HGroup>
								</s:VGroup> 
							</s:Group> 
						</s:HGroup>
						<otros:division width="100%" grueso="1"/>
						<s:HGroup id="btnReporte" height="81" width="100%" click="cambiaSeccion_clickHandler(event, 'btnReporte')" mouseOver="cambiaSeccion_mouseOverHandler(event, 'btnReporte')" >
							<s:Group width="100%" height="81">
								<s:Rect width="100%" height="100%">
									<s:fill>
										<s:SolidColor id="colorBtnReporte" color="#ffffff"/>
									</s:fill>
								</s:Rect>
								<consultas:LineaItemSeleccionado id="lineaItemSeleccionadoReporte" visible="false"/>
								<s:VGroup width="100%" height="100%" paddingLeft="3">
									<s:HGroup paddingTop="10" width="100%" height="100%" >
										<s:HGroup width="100%" height="100%" textAlign="center">
											<s:Label text="Reporte" styleName="titulo_verdeazul_18" paddingTop="20" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}"/>
										</s:HGroup>
									</s:HGroup>
								</s:VGroup> 
							</s:Group> 
						</s:HGroup>
						<otros:division width="100%" grueso="1"/>
						<s:HGroup id="btnHallazgo" height="81" width="100%" click="cambiaSeccion_clickHandler(event, 'btnHallazgo')" mouseOver="cambiaSeccion_mouseOverHandler(event, 'btnHallazgo')">
							<s:Group width="100%" height="81">
								<s:Rect width="100%" height="100%">
									<s:fill>
										<s:SolidColor id="colorBtnHallazgo" color="#ffffff"/>
									</s:fill>
								</s:Rect>
								<consultas:LineaItemSeleccionado id="lineaItemSeleccionadoHallazgo" visible="false"/>
								<s:VGroup width="100%" height="100%" paddingLeft="3">
									<s:HGroup paddingTop="10" width="100%" height="100%" >
										<s:HGroup width="100%" height="100%" textAlign="center">
											<s:Label text="Hallazgos" styleName="titulo_verdeazul_18" paddingTop="20" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}"/>
										</s:HGroup>
									</s:HGroup>
								</s:VGroup> 
							</s:Group> 
						</s:HGroup>
					</s:VGroup>
					
					<s:Group height="100%" width="1">
						<s:Rect width="100%" height="100%">
							<s:filters>									
								<s:DropShadowFilter color="#424242" blurX="4" blurY="1" distance="1" strength="1" angle="0" quality="{BitmapFilterQuality.HIGH}"  />
							</s:filters>
							<s:fill>
								<s:SolidColor color="#f1f1f1"/>
							</s:fill>
						</s:Rect>
					</s:Group>
					
					<s:HGroup id="detalleVisita" height="100%" width="80%">
						<s:VGroup width="100%" height="100%">
							<s:VGroup width="100%" height="100%" paddingRight="20" paddingLeft="20">
								<s:HGroup height="20%" width="100%">
									<s:VGroup width="50%" height="100%">
										<s:HGroup width="100%" height="50%"  verticalAlign="bottom">
											<s:Label text="Asunto ·" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}"/>
											<s:Label width="100%" text="{visitaClienteSeleccionada.asunto}" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}"/>
										</s:HGroup>
										<s:HGroup width="100%" height="50%" verticalAlign="top"  >
											<mx:Image source="{catalogoIconosEtiquetas.getInstance().soluciones_icono}" />
											<s:Label width="100%" text="{visitaClienteSeleccionada.empleado.nombre}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6" fontWeight="bold"/>
										</s:HGroup>
									</s:VGroup>
									<s:VGroup width="50%" height="100%" horizontalAlign="right">
										<s:VGroup height="100%" horizontalAlign="left">
											<s:HGroup height="50%" verticalAlign="bottom">
												<s:VGroup paddingBottom="2">
													<mx:Image source="{catalogoIconosEtiquetas.getInstance().contacto_azul}" />
												</s:VGroup>
												<s:Label text="{visitaClienteSeleccionada.empleado.usuarioESAC}" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6"/>
											</s:HGroup>
											<s:HGroup height="50%" verticalAlign="top" >
												<s:Label text="{visitaClienteSeleccionada.empleado.nombreESAC}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6"/>
											</s:HGroup>
										</s:VGroup>  
									</s:VGroup>
								</s:HGroup>	
								<otros:division width="100%" grueso="1"/>
								<s:HGroup height="20%" width="100%">
									<s:VGroup width="25%" height="100%" horizontalAlign="left" verticalAlign="middle">
										<s:Label width="100%" text="{visitaClienteSeleccionada.empleado.puesto}" styleName="titulo_negro_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}" fontWeight="bold"/>
										<s:Label width="100%" text="Puesto" styleName="titulo_verdeazul_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}"/>
									</s:VGroup>
									<s:VGroup width="25%" height="100%" horizontalAlign="left" verticalAlign="middle">
										<s:Label width="100%" text="{visitaClienteSeleccionada.empleado.area}" styleName="titulo_negro_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}" verticalAlign="bottom" fontWeight="bold"/>
										<s:Label width="100%" text="Área" styleName="titulo_verdeazul_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}" verticalAlign="top"/>
									</s:VGroup>
									<s:VGroup width="25%" height="100%" horizontalAlign="left" verticalAlign="middle">
										<s:Label width="100%" text="{visitaClienteSeleccionada.ruta}" styleName="titulo_negro_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}" verticalAlign="bottom" fontWeight="bold"/>
										<s:HGroup >
											<mx:Image source="{catalogoIconosEtiquetas.getInstance().ruta}" />
											<s:Label width="100%" text="Ruta" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" verticalAlign="top"/>
										</s:HGroup>
									</s:VGroup>
									<s:VGroup width="25%" height="100%" horizontalAlign="left" verticalAlign="middle">
										<s:Label width="100%" text="Antes del {UtilsFecha.formatoFechaDDMMYYYY(visitaClienteSeleccionada.fechaEstimadaVisita)}" styleName="titulo_negro_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}" verticalAlign="bottom" fontWeight="bold"/>
										<s:Label width="100%" text="Fecha Estimada de Visita" styleName="titulo_verdeazul_18" paddingLeft="10" fontSize="{tamRealFontNombreUsuario}" verticalAlign="top"/>
									</s:VGroup>
								</s:HGroup>	
								<otros:division width="100%" grueso="1"/>
								<s:HGroup  id="hgAsuntos" width="100%" verticalAlign="middle">
									<s:List width="100%" borderVisible="false" horizontalScrollPolicy="off" id="listaAsuntos" itemRenderer="vista.popUp.listaAsuntos" contentBackgroundAlpha="0" height="100%" visible="{listaAsuntos.dataProvider.length > 0}" includeInLayout="{listaAsuntos.dataProvider.length > 0}"/>
									<s:Label text="Sin Asuntos" width="100%" height="90" fontWeight="bold" fontSize="22" textAlign="center" visible="{listaAsuntos.dataProvider.length == 0}" includeInLayout="{listaAsuntos.dataProvider.length == 0}"/>
								</s:HGroup>	
								<otros:division width="100%" grueso="1"/>
								<s:VGroup id="vgDocumentos" width="100%" verticalAlign="top">
									<s:Label width="100%" text="Documentos" styleName="titulo_verdeazul_18" paddingTop="20" fontSize="{tamRealFontNombreUsuario}"/>
									<s:List width="100%" borderVisible="false" horizontalScrollPolicy="off" id="listaDocumentosVisita" itemRenderer="vista.popUp.listaDocumentosVisita" contentBackgroundAlpha="0" height="90" visible="{listaDocumentosVisita.dataProvider.length > 0}" includeInLayout="{listaDocumentosVisita.dataProvider.length > 0}"/>
									<s:Label text="Sin Documentos" width="100%" height="90" fontWeight="bold" fontSize="22" textAlign="center" visible="{listaDocumentosVisita.dataProvider.length == 0}" includeInLayout="{listaDocumentosVisita.dataProvider.length == 0}"/>
								</s:VGroup>								
							</s:VGroup>
						</s:VGroup>
					</s:HGroup>
					<s:HGroup id="reporte" height="100%" width="80%" visible="false" includeInLayout="false">
						<s:VGroup width="100%" height="100%">
							<s:VGroup width="100%" height="100%" paddingRight="20" paddingLeft="20">
								<s:HGroup height="20%" width="100%">
									<s:VGroup width="50%" height="100%">
										<s:HGroup width="100%" height="100%"  verticalAlign="middle">
											<s:Label text="Reporte" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" fontWeight="bold"/>
										</s:HGroup>
									</s:VGroup>
									<s:VGroup width="50%" height="100%" horizontalAlign="right">
										<s:VGroup height="100%" horizontalAlign="left">
											<s:HGroup height="50%" verticalAlign="bottom">
												<s:VGroup paddingBottom="2">
													<mx:Image source="{catalogoIconosEtiquetas.getInstance().contacto_azul}" />
												</s:VGroup>
												<s:Label text="{visitaClienteSeleccionada.empleado.usuarioESAC}" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6" fontWeight="bold"/>
											</s:HGroup>
											<s:HGroup height="50%" verticalAlign="top" >
												<s:Label text="{visitaClienteSeleccionada.empleado.nombreESAC}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6"/>
											</s:HGroup>
										</s:VGroup>  
									</s:VGroup>
								</s:HGroup>	
								<otros:division width="100%" grueso="1"/>
								<s:Scroller width="100%" height="100%">
									<s:VGroup height="80%" width="100%" gap="0">
										<s:Label width="100%" text="REQUERIMIENTOS" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="10" paddingBottom="15" fontWeight="bold"/>
										<s:HGroup horizontalAlign="left">
											<valoracion:Valoracion width="100%" readOnly="true" calificacion="{datosSeccionReporte.requerimientos.getItemAt(0).calificacion}" />
										</s:HGroup>
										<s:Label width="100%" text="{reqRealizados} de {datosSeccionReporte.requerimientos != null ? datosSeccionReporte.requerimientos.length : 0}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="bold" paddingTop="15"/>
										<s:Label width="100%" text="Requerimientos Realizados" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" fontWeight="normal" paddingTop="10" />									
										<s:Label width="100%" text="{isNaN((reqRealizados/(datosSeccionReporte.requerimientos != null ? datosSeccionReporte.requerimientos.length : 0))*100) ? 0 : (reqRealizados/(datosSeccionReporte.requerimientos != null ? datosSeccionReporte.requerimientos.length : 0))*100}% Eficacia" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario-1}" fontWeight="normal" paddingTop="6"/>		
										<s:Label width="100%" text="PENDIENTES" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="30" fontWeight="bold"/>
										<s:Label width="100%" text="{datosSeccionReporte.pendientes != null ? datosSeccionReporte.pendientes.length : 0}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="bold" paddingTop="30"/>
										<s:Label width="100%" text="Nuevos Pendientes" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" fontWeight="normal" paddingTop="6"/>		
										<s:Label width="100%" text="HALLAZGOS" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="30" fontWeight="bold"/>
										<s:Label width="100%" text="{datosSeccionReporte.hallazgos != null ? datosSeccionReporte.hallazgos.length : 0}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="bold" paddingTop="30"/>
										<s:Label width="100%" text="Nuevos Hallazgos" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" fontWeight="normal" paddingTop="6"/>
										<s:Label width="100%" text="REQUISICIÓN:" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="30" fontWeight="bold"/>
										<s:Label width="100%" text="{partidasEnReq}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="bold" paddingTop="30"/>
										<s:Label width="100%" text="{partidasEnReq == 1 ? 'Partida' : 'Partidas'} en Requisición" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" fontWeight="normal" paddingTop="6"/>
										
										<!--<s:Label  verticalAlign="top" maxWidth="{labelWidth}" width="100%" maxDisplayedLines="5" text="N/D" styleName="titulo_negro_18" paddingTop="10" fontWeight="normal"/>-->
										<s:Label width="100%" text="COTIZACIÓN:" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="30" fontWeight="bold"/>
										<s:HGroup width="100%" >
											<s:Label text="{datosSeccionReporte.cotizacion != null ? datosSeccionReporte.cotizacion.length : 0}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+6}" fontWeight="bold" paddingTop="30" width="22%" />
											
											<s:Label text="{prodCotizados}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+6}" fontWeight="bold" paddingTop="30" width="15%" />
											
											<s:Label text="${UtilsFormatosNumericos.precisionADosDecimalesConComas(montoTotal)}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario+6}" fontWeight="bold" paddingTop="30" width="63%" />
											
										</s:HGroup>
										<s:HGroup width="100%" height="100%" >
											<s:Label text="{datosSeccionReporte.cotizacion.length == 1 ? 'Cotización emitida' : 'Cotizaciones emitidas'}" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="normal" paddingTop="6" paddingBottom="40" width="22%"/>
											
											<s:Label text="Productos cotizados" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="normal" paddingTop="6" paddingBottom="40" width="15%"/>
											
											<s:Label text="Valor total de Cotizaciones" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario+2}" fontWeight="normal" paddingTop="6" paddingBottom="40" width="63%"/>
											
										</s:HGroup>
									</s:VGroup>
								</s:Scroller>								
							</s:VGroup>
						</s:VGroup>
					</s:HGroup>
					<s:HGroup id="hallazgo" height="100%" width="80%" visible="false" includeInLayout="false">
						<s:VGroup width="100%" height="100%">
							<s:VGroup width="100%" height="100%" paddingRight="20" paddingLeft="20">
								<s:HGroup height="20%" width="100%">
									<s:VGroup width="50%" height="100%">
										<s:HGroup width="100%" height="100%"  verticalAlign="middle">
											<s:Label text="Hallazgos" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" fontWeight="bold"/>
										</s:HGroup>
									</s:VGroup>
									<s:VGroup width="50%" height="100%" horizontalAlign="right">
										<s:VGroup height="100%" horizontalAlign="left">
											<s:HGroup height="50%" verticalAlign="bottom">
												<s:VGroup paddingBottom="2">
													<mx:Image source="{catalogoIconosEtiquetas.getInstance().contacto_azul}" />
												</s:VGroup>
												<s:Label text="{visitaClienteSeleccionada.empleado.usuarioESAC}" styleName="titulo_verdeazul_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6"/>
											</s:HGroup>
											<s:HGroup height="50%" verticalAlign="top" >
												<s:Label text="{visitaClienteSeleccionada.empleado.nombreESAC}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingTop="6"/>
											</s:HGroup>
										</s:VGroup>  
									</s:VGroup>
								</s:HGroup>	
								<otros:division width="100%" grueso="1"/>
								<s:VGroup height="80%" width="100%">
									<s:HGroup width="100%" height="{heightTopLblObs}" gap="0" paddingTop="{paddingTopLblObs}">
										<s:Label text="#" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingLeft="25"/>
										<s:Label text="Descripción" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingLeft="10" fontFamily="Helvetica" fontWeight="bold"/>
										<s:Spacer width="100%"/>
										<s:Label text="Descartar" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingRight="25" fontFamily="Helvetica" fontWeight="bold"/>
									</s:HGroup>
									<otros:Hdivision width="100%" color="Negro"/>
									<s:VGroup width="100%" height="100%" paddingTop="-6">
										<s:List width="100%" height="100%" borderVisible="false" horizontalScrollPolicy="off" changing="changeDetallesHallazgos(event)"
												id="lstHallazgos" contentBackgroundAlpha="0" itemRenderer="vista.juntaDeCierre.IR.IR_ListaHallazgos" contentBackgroundColor="#ffffff"/>
									</s:VGroup>
									<otros:Hdivision width="100%" color="Negro"/>
									<s:HGroup width="100%" height="60" paddingTop="10">
										<s:Label text="#" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" paddingLeft="25"/>
										<s:Label text="{lstHallazgos.dataProvider.length}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}" />
										<s:Label text="{lstHallazgos.dataProvider.length == 1 ? 'Hallazgo' : 'Hallazgos'}" styleName="titulo_negro_18" fontSize="{tamRealFontNombreUsuario}"/>
									</s:HGroup>
									
								</s:VGroup>	
							</s:VGroup>
						</s:VGroup>
					</s:HGroup>
					
					<s:Group height="100%" width="1">
						<s:Rect width="100%" height="100%"> 
							<s:filters>									
								<s:DropShadowFilter color="#424242" blurX="4" blurY="1" distance="1" strength="1" angle="0" quality="{BitmapFilterQuality.HIGH}"  />
							</s:filters>
							<s:fill>
								<s:SolidColor color="#f1f1f1"/>
							</s:fill>
						</s:Rect> 
					</s:Group>
					

					<otros:VDivisionDelgadaClara width="1"/>
				</s:HGroup>
				
				<otros:division width="100%"/>
				<s:Spacer height="30"/>
				<otros:division width="100%" grueso="1"/>
				<s:HGroup width="100%" height="40" verticalAlign="middle" paddingBottom="0">
					<!--20,15,15,15,25,9-->
					<s:HGroup width="100%" height="100%" paddingTop="20" verticalAlign="bottom">
						<pqNet:botonPqNetLargo id="btnCancelar" width="150"  label="CANCELAR" colorBase="0x2e99b4" click="recargaLista()"/>
						<s:Spacer width="100%"/>
						<pqNet:botonPqNetLargo id="btnGuardar" width="150"  label="GUARDAR" colorBase="0x50a635" click="guardaCambios()" enabled="false"/>
					</s:HGroup>  
				</s:HGroup>  
				
			</s:VGroup>	
		</s:HGroup>
		

		
	</s:HGroup>  
	
</s:Group>
